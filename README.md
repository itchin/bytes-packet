#### 解决方案
将消息分为消息头和消息体，消息头中包含信息的总长度。接收一段新的数据后，先从消息头读取长度，如果消息体长度小于声明的长度，将消息体写入缓存变量，继续向后读取，直到读取完毕。

代码非常简短，一目了然，详见example。